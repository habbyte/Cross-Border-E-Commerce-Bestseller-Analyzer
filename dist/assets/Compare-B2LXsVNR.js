import{_ as u,r as _,c as i,o as r,a as t,m as g,t as e,F as n,e as l,p as v,d as y,f as b,g as C,B as P}from"./index-CSEj975q.js";const f={name:"Compare",setup(){const s=C(),c=P();return{productStore:s,settingsStore:c}},computed:{compareProducts(){return this.productStore.compareProducts||[]},priceAnalysis(){if(this.compareProducts.length===0)return{min:0,max:0,avg:0};const s=this.compareProducts.map(c=>c.price);return{min:Math.min(...s),max:Math.max(...s),avg:(s.reduce((c,d)=>c+d,0)/s.length).toFixed(2)}},salesAnalysis(){if(this.compareProducts.length===0)return{max:0,avg:0};const s=this.compareProducts.map(()=>Math.floor(Math.random()*1e3)+100);return{max:Math.max(...s),avg:Math.floor(s.reduce((c,d)=>c+d,0)/s.length)}},ratingAnalysis(){if(this.compareProducts.length===0)return{max:0,avg:0};const s=this.compareProducts.map(()=>Math.random()*2+3);return{max:Math.max(...s).toFixed(1),avg:(s.reduce((c,d)=>c+d,0)/s.length).toFixed(1)}}},async mounted(){this.productStore.isInitialized||await this.productStore.initialize()},methods:{getCompetitionText(s){return{low:this.$t("compare.competition.low"),medium:this.$t("compare.competition.medium"),high:this.$t("compare.competition.high")}[s]||s},viewDetails(s){this.$router.push(`/products/${s}`)},toggleWatch(s){this.productStore.toggleWatch(s)},removeFromCompare(s){this.productStore.removeFromCompare(s)},clearCompare(){this.productStore.clearCompare()},exportCompare(){alert(this.$t("common.developmentInProgress"))},goToSearch(){this.$router.push("/search")},goToDashboard(){this.$router.push("/")}}},S={class:"compare"},$={class:"page-header"},k={class:"page-title"},w={class:"page-subtitle"},A={key:0,class:"compare-content"},M={class:"compare-toolbar"},T={class:"toolbar-left"},D={class:"compare-count"},F={class:"toolbar-right"},L={class:"comparison-table"},W={class:"table"},B={class:"metric-column"},V={class:"product-header"},N=["src","alt"],z={class:"product-info"},I={class:"product-name"},R={class:"product-platform"},E=["onClick","title"],U={class:"metric-name"},j={class:"category-tag"},q={class:"compare-row"},G={class:"compare-label"},H={class:"compare-row"},J={class:"compare-label"},K={class:"compare-row"},O={class:"compare-label"},Q={class:"rating"},X={class:"rating-value"},Y={class:"rating-stars"},Z={class:"compare-row"},x={class:"compare-label"},tt={class:"compare-row actions-row"},st={class:"compare-label"},et={class:"product-actions"},at=["onClick"],ot=["onClick"],ct={class:"analysis-section"},rt={class:"section-title"},it={class:"analysis-grid"},nt={class:"analysis-card"},lt={class:"analysis-title"},dt={class:"analysis-content"},mt={class:"price-stats"},ht={class:"stat-item"},pt={class:"stat-label"},ut={class:"stat-value"},_t={class:"stat-item"},gt={class:"stat-label"},vt={class:"stat-value"},yt={class:"stat-item"},bt={class:"stat-label"},Ct={class:"stat-value"},Pt={class:"analysis-card"},ft={class:"analysis-title"},St={class:"analysis-content"},$t={class:"sales-stats"},kt={class:"stat-item"},wt={class:"stat-label"},At={class:"stat-value"},Mt={class:"stat-item"},Tt={class:"stat-label"},Dt={class:"stat-value"},Ft={class:"analysis-card"},Lt={class:"analysis-title"},Wt={class:"analysis-content"},Bt={class:"rating-stats"},Vt={class:"stat-item"},Nt={class:"stat-label"},zt={class:"stat-value"},It={class:"stat-item"},Rt={class:"stat-label"},Et={class:"stat-value"},Ut={key:1,class:"empty-state"},jt={class:"empty-title"},qt={class:"empty-description"},Gt={key:2,class:"compare-suggestions"},Ht={class:"suggested-products"};function Jt(s,c,d,m,Kt,o){const p=_("ProductCard");return r(),i("div",S,[t("div",$,[t("h1",k,e(s.$t("compare.title")),1),t("p",w,e(s.$t("compare.subtitle")),1)]),o.compareProducts.length>0?(r(),i("div",A,[t("div",M,[t("div",T,[t("span",D,e(s.$t("compare.selectedCount",{count:o.compareProducts.length})),1)]),t("div",F,[t("button",{class:"btn btn-secondary",onClick:c[0]||(c[0]=(...a)=>o.clearCompare&&o.clearCompare(...a))},e(s.$t("compare.clearAll")),1),t("button",{class:"btn btn-primary",onClick:c[1]||(c[1]=(...a)=>o.exportCompare&&o.exportCompare(...a))},e(s.$t("compare.export")),1)])]),t("div",L,[t("table",W,[t("thead",null,[t("tr",null,[t("th",B,e(s.$t("compare.features")),1),(r(!0),i(n,null,l(o.compareProducts,a=>(r(),i("th",{key:a.id,class:"product-column"},[t("div",V,[t("img",{src:a.imageUrl||`https://via.placeholder.com/200x200?text=${s.$t("common.product")}`,alt:a.title,class:"product-thumb"},null,8,N),t("div",z,[t("h4",I,e(a.title),1),t("span",R,e(a.platform),1)]),t("button",{class:"btn btn-ghost btn-sm remove-btn",onClick:h=>o.removeFromCompare(a.id),title:s.$t("compare.remove")}," Ã— ",8,E)])]))),128))])]),t("tbody",null,[t("tr",null,[t("td",U,e(s.$t("compare.category")),1),(r(!0),i(n,null,l(o.compareProducts,a=>(r(),i("td",{key:`category-${a.id}`},[t("span",j,e(a.category),1)]))),128))]),t("tr",q,[t("td",G,e(s.$t("compare.price")),1),(r(!0),i(n,null,l(o.compareProducts,a=>(r(),i("td",{key:`price-${a.id}`,class:"compare-value price"},e(a.formattedPrice),1))),128))]),t("tr",H,[t("td",J,e(s.$t("compare.sales")),1),(r(!0),i(n,null,l(o.compareProducts,a=>(r(),i("td",{key:`sales-${a.id}`,class:"compare-value"},e(Math.floor(Math.random()*1e3)+100),1))),128))]),t("tr",K,[t("td",O,e(s.$t("compare.rating")),1),(r(!0),i(n,null,l(o.compareProducts,a=>(r(),i("td",{key:`rating-${a.id}`,class:"compare-value"},[t("div",Q,[t("span",X,e((Math.random()*2+3).toFixed(1)),1),t("span",Y,e("â˜…".repeat(Math.floor(Math.random()*2+3)))+e("â˜†".repeat(5-Math.floor(Math.random()*2+3))),1)])]))),128))]),t("tr",Z,[t("td",x,e(s.$t("compare.competitionLabel")),1),(r(!0),i(n,null,l(o.compareProducts,a=>(r(),i("td",{key:`competition-${a.id}`,class:"compare-value"},[t("span",{class:v(`competition-badge competition-${a.competitionLevel}`)},e(o.getCompetitionText(a.competitionLevel)),3)]))),128))]),t("tr",tt,[t("td",st,e(s.$t("compare.actions")),1),(r(!0),i(n,null,l(o.compareProducts,a=>(r(),i("td",{key:`actions-${a.id}`,class:"compare-value"},[t("div",et,[t("button",{class:"btn btn-primary btn-sm",onClick:h=>o.viewDetails(a.id)},e(s.$t("compare.viewDetails")),9,at),t("button",{class:"btn btn-secondary btn-sm",onClick:h=>o.toggleWatch(a.id)},e(m.productStore.isWatched(a.id)?s.$t("watchlist.removeFromWatchlist"):s.$t("watchlist.addToWatchlist")),9,ot)])]))),128))])])])]),t("div",ct,[t("h2",rt,"ðŸ“Š "+e(s.$t("compare.analysis")),1),t("div",it,[t("div",nt,[t("h3",lt,e(s.$t("compare.priceAnalysis")),1),t("div",dt,[t("div",mt,[t("div",ht,[t("span",pt,e(s.$t("compare.lowestPrice")),1),t("span",ut,e(m.settingsStore.formatCurrency(o.priceAnalysis.min)),1)]),t("div",_t,[t("span",gt,e(s.$t("compare.highestPrice")),1),t("span",vt,e(m.settingsStore.formatCurrency(o.priceAnalysis.max)),1)]),t("div",yt,[t("span",bt,e(s.$t("compare.averagePrice")),1),t("span",Ct,e(m.settingsStore.formatCurrency(Number(o.priceAnalysis.avg))),1)])])])]),t("div",Pt,[t("h3",ft,e(s.$t("compare.salesAnalysis")),1),t("div",St,[t("div",$t,[t("div",kt,[t("span",wt,e(s.$t("compare.highestSales")),1),t("span",At,e(o.salesAnalysis.max.toLocaleString()),1)]),t("div",Mt,[t("span",Tt,e(s.$t("compare.averageSales")),1),t("span",Dt,e(o.salesAnalysis.avg.toLocaleString()),1)])])])]),t("div",Ft,[t("h3",Lt,e(s.$t("compare.ratingAnalysis")),1),t("div",Wt,[t("div",Bt,[t("div",Vt,[t("span",Nt,e(s.$t("compare.highestRating")),1),t("span",zt,e(o.ratingAnalysis.max),1)]),t("div",It,[t("span",Rt,e(s.$t("compare.averageRating")),1),t("span",Et,e(o.ratingAnalysis.avg),1)])])])])])])])):(r(),i("div",Ut,[c[4]||(c[4]=t("div",{class:"empty-icon"},"ðŸ“Š",-1)),t("h3",jt,e(s.$t("compare.emptyState.title")),1),t("p",qt,e(s.$t("compare.emptyState.description")),1),t("button",{class:"btn btn-primary empty-action-btn",onClick:c[2]||(c[2]=(...a)=>o.goToDashboard&&o.goToDashboard(...a))},[c[3]||(c[3]=t("span",{class:"btn-icon"},"ðŸ”",-1)),y(" "+e(s.$t("compare.emptyState.cta")),1)])])),o.compareProducts.length>0&&o.compareProducts.length<4?(r(),i("div",Gt,[t("h3",null,e(s.$t("compare.suggestions")),1),t("p",null,e(s.$t("compare.suggestionsDesc")),1),t("div",Ht,[(r(!0),i(n,null,l(s.suggestedProducts,a=>(r(),b(p,{key:a.id,product:a,"is-watched":s.watchedProducts.some(h=>h.id===a.id),"is-in-compare":!1,onViewDetails:s.viewProduct,onAddToCompare:s.addToCompare},null,8,["product","is-watched","onViewDetails","onAddToCompare"]))),128))])])):g("",!0)])}const Qt=u(f,[["render",Jt],["__scopeId","data-v-6a432abc"]]);export{Qt as default};
